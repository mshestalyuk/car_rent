--
-- PostgreSQL database dump
--

-- Dumped from database version 14.10 (Ubuntu 14.10-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 14.10 (Ubuntu 14.10-0ubuntu0.22.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: bookings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.bookings (
    booking_id bigint NOT NULL,
    user_id bigint NOT NULL,
    car_id bigint NOT NULL,
    pick_up_loc_id bigint NOT NULL,
    drop_off_loc_id bigint NOT NULL,
    pick_up_date timestamp(6) without time zone NOT NULL,
    pick_off_date date NOT NULL,
    status text NOT NULL,
    drop_off_date timestamp(6) without time zone
);


ALTER TABLE public.bookings OWNER TO postgres;

--
-- Name: Bookings_booking_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.bookings ALTER COLUMN booking_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Bookings_booking_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: car; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.car (
    id_car bigint NOT NULL,
    fuel text NOT NULL,
    transmission text NOT NULL,
    consumption text NOT NULL,
    seats integer NOT NULL,
    luggage_capacity text NOT NULL,
    image text NOT NULL,
    id bigint NOT NULL
);


ALTER TABLE public.car OWNER TO postgres;

--
-- Name: Car_id_car_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.car ALTER COLUMN id_car ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Car_id_car_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: location; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.location (
    id bigint NOT NULL,
    address text NOT NULL,
    postalcode bigint NOT NULL,
    city text NOT NULL,
    county text NOT NULL
);


ALTER TABLE public.location OWNER TO postgres;

--
-- Name: Location_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.location ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Location_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id bigint NOT NULL,
    email text NOT NULL,
    password text NOT NULL,
    id_role bigint DEFAULT 1 NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: User_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."user" ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."User_id_seq"
    START WITH 10
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: car_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.car_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.car_id_seq OWNER TO postgres;

--
-- Name: car_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.car_id_seq OWNED BY public.car.id;


--
-- Name: driver_license; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.driver_license (
    id bigint NOT NULL,
    license_number bigint NOT NULL,
    start_date date NOT NULL,
    expiration_date date NOT NULL,
    image text NOT NULL
);


ALTER TABLE public.driver_license OWNER TO postgres;

--
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    id_role bigint DEFAULT 1 NOT NULL,
    rolename text
);


ALTER TABLE public.role OWNER TO postgres;

--
-- Name: user_details; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_details (
    user_id bigint NOT NULL,
    id_driver bigint NOT NULL,
    name text NOT NULL,
    surname text NOT NULL,
    location text NOT NULL
);


ALTER TABLE public.user_details OWNER TO postgres;

--
-- Name: car id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car ALTER COLUMN id SET DEFAULT nextval('public.car_id_seq'::regclass);


--
-- Data for Name: bookings; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.bookings (booking_id, user_id, car_id, pick_up_loc_id, drop_off_loc_id, pick_up_date, pick_off_date, status, drop_off_date) FROM stdin;
16	1	1	1	5	2024-06-01 00:00:00	2024-06-10	Confirmed	\N
17	2	2	2	4	2024-07-01 00:00:00	2024-07-10	Confirmed	\N
18	3	3	3	3	2024-08-01 00:00:00	2024-08-10	Confirmed	\N
19	4	4	4	2	2024-09-01 00:00:00	2024-09-10	Confirmed	\N
20	5	5	5	1	2024-10-01 00:00:00	2024-10-10	Confirmed	\N
\.


--
-- Data for Name: car; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.car (id_car, fuel, transmission, consumption, seats, luggage_capacity, image, id) FROM stdin;
1	Petrol	Automatic	20 MPG	4	2 Large Suitcases	car1.jpg	1
2	Diesel	Manual	25 MPG	5	3 Large Suitcases	car2.jpg	2
3	Electric	Automatic	250 Wh/km	5	2 Small Suitcases	car3.jpg	3
4	Hybrid	Automatic	40 MPG	4	1 Large Suitcase	car4.jpg	4
5	Petrol	Manual	30 MPG	2	1 Small Suitcase	car5.jpg	5
11	Petrol	Automatic	20 MPG	4	2 Large Suitcases	car1.jpg	6
12	Diesel	Manual	25 MPG	5	3 Large Suitcases	car2.jpg	7
13	Electric	Automatic	250 Wh/km	5	2 Small Suitcases	car3.jpg	8
14	Hybrid	Automatic	40 MPG	4	1 Large Suitcase	car4.jpg	9
15	Petrol	Manual	30 MPG	2	1 Small Suitcase	car5.jpg	10
\.


--
-- Data for Name: driver_license; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.driver_license (id, license_number, start_date, expiration_date, image) FROM stdin;
\.


--
-- Data for Name: location; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.location (id, address, postalcode, city, county) FROM stdin;
1	123 Main St	12345	Anytown	Anystate
2	456 Market St	67890	Othertown	Otherstate
3	789 Broadway	10112	New York	NY
4	1010 Maple Dr	54321	Somecity	Somestate
5	1212 Elm St	14141	Greentown	Greenstate
11	123 Main St	12345	Anytown	Anystate
12	456 Market St	67890	Othertown	Otherstate
13	789 Broadway	10112	New York	NY
14	1010 Maple Dr	54321	Somecity	Somestate
15	1212 Elm St	14141	Greentown	Greenstate
16	123 Main St	12345	Anytown	Anystate
17	456 Market St	67890	Othertown	Otherstate
18	789 Broadway	10112	New York	NY
19	1010 Maple Dr	54321	Somecity	Somestate
20	1212 Elm St	14141	Greentown	Greenstate
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role (id_role, rolename) FROM stdin;
2	Admin
1	User
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, email, password, id_role) FROM stdin;
2	user@example.com	userpass	1
3	user2@example.com	userpass2	1
4	user3@example.com	userpass3	1
5	user4@example.com	userpass4	1
6	admin@example.com	adminpass	1
7	user@example.com	userpass	1
8	user2@example.com	userpass2	1
9	user3@example.com	userpass3	1
10	user4@example.com	userpass4	1
11	dasd@gmail.com	fdsafaasfasfa	1
12	dasd@gmail.com	fdsafaasfasfa	1
13	dasd@gmail.com	fdsafaasfasfa	1
14	dasd@gmail.com	123	1
15	dasd@gmail.com	adad123	1
16	dasd@gmail.com	adad123	1
17	dasd@gmail.com	adad123	1
18	dasd@gmail.com	adad123	1
21	dasd@gmail.com	adad123	1
1	dasffafd@gmail.com	adad123	1
22	dasd@gmail.com	adad123	1
\.


--
-- Data for Name: user_details; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_details (user_id, id_driver, name, surname, location) FROM stdin;
1	1	John	Doe	123 Main St
2	2	Jane	Smith	456 Market St
3	3	Jim	Beam	789 Broadway
4	4	Jill	Hill	1010 Maple Dr
5	5	Jack	Black	1212 Elm St
\.


--
-- Name: Bookings_booking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Bookings_booking_id_seq"', 20, true);


--
-- Name: Car_id_car_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Car_id_car_seq"', 15, true);


--
-- Name: Location_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Location_id_seq"', 20, true);


--
-- Name: User_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."User_id_seq"', 22, true);


--
-- Name: car_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.car_id_seq', 10, true);


--
-- Name: bookings Bookings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT "Bookings_pkey" PRIMARY KEY (booking_id);


--
-- Name: car Car_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car
    ADD CONSTRAINT "Car_pkey" PRIMARY KEY (id_car);


--
-- Name: driver_license Driver_License_license_number_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.driver_license
    ADD CONSTRAINT "Driver_License_license_number_key" UNIQUE (license_number);


--
-- Name: driver_license Driver_License_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.driver_license
    ADD CONSTRAINT "Driver_License_pkey" PRIMARY KEY (id);


--
-- Name: location Location_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.location
    ADD CONSTRAINT "Location_pkey" PRIMARY KEY (id);


--
-- Name: user_details User_details_id_driver_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_details
    ADD CONSTRAINT "User_details_id_driver_key" UNIQUE (id_driver);


--
-- Name: user_details User_details_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_details
    ADD CONSTRAINT "User_details_pkey" PRIMARY KEY (user_id);


--
-- Name: user User_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "User_id_key" UNIQUE (id);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id_role);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: bookings Bookings_fk1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT "Bookings_fk1" FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: bookings Bookings_fk2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT "Bookings_fk2" FOREIGN KEY (car_id) REFERENCES public.car(id_car);


--
-- Name: bookings Bookings_fk3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT "Bookings_fk3" FOREIGN KEY (pick_up_loc_id) REFERENCES public.location(id);


--
-- Name: bookings Bookings_fk4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.bookings
    ADD CONSTRAINT "Bookings_fk4" FOREIGN KEY (drop_off_loc_id) REFERENCES public.location(id);


--
-- Name: driver_license Driver_License_fk0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.driver_license
    ADD CONSTRAINT "Driver_License_fk0" FOREIGN KEY (id) REFERENCES public.user_details(id_driver);


--
-- Name: user_details User_details_fk0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_details
    ADD CONSTRAINT "User_details_fk0" FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: user fk_user_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT fk_user_role FOREIGN KEY (id_role) REFERENCES public.role(id_role) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- PostgreSQL database dump complete
--

